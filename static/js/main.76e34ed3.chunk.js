(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{49:function(e,t,n){e.exports=n(61)},54:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),c=n.n(l),o=(n(54),n(29)),i=n(89),s=n(105),u=Object(i.a)((function(e){return Object(s.a)({root:{display:"flex",width:"100%",flexDirection:"column",justifyContent:"flex-start",overflow:"hidden",alignItems:"center",height:"100vh"},viewer:{flexGrow:1,overflow:"auto",display:"flex",width:"100%"}})})),m=n(24),d=n.n(m),h=n(34),f=function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cms.contourbi.ru"+t,{credentials:"same-origin",method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(i.a)((function(e){return Object(s.a)({root:{width:700,backgroundColor:e.palette.background.paper},inline:{display:"inline"},listItem:{paddingTop:20,paddingBottom:20,cursor:"pointer"},img:{marginLeft:20}})})),E=n(91),g=n(92),v=n(95),b=n(93),w=n(94),x=n(30),y=r.a.createContext(null),C=function(e,t){return e.thumbnail.items.length?e.thumbnail.items[0]._pieces[0].item.attachment._urls[t]:null},j=function(){var e=p(),t=Object(a.useContext)(y),n=t.items,l=t.setShowContent;return n?r.a.createElement(E.a,{className:e.root,style:{margin:"auto"}},n.map((function(t){return r.a.createElement("div",{key:"_"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},r.a.createElement(g.a,{alignItems:"flex-start",className:e.listItem,onClick:function(){return e="/articles/"+t.slug,l(!0),void f(e).then((function(e){return console.log("yes")}));var e}},r.a.createElement(b.a,{primary:r.a.createElement(x.a,{component:"span",variant:"h6",color:"textPrimary"},t.title),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary"},t.lowSearchText.length>200?t.lowSearchText.slice(0,200)+"...":t.lowSearchText),r.a.createElement(x.a,{variant:"overline",display:"block",gutterBottom:!0},t.publishedAt))}),r.a.createElement(w.a,null,r.a.createElement("img",{alt:t.title,src:C(t,"one-sixth"),className:e.img}))),r.a.createElement(v.a,null))}))):null},S=Object(i.a)({card:{maxWidth:300,margin:20,display:"flex",flexDirection:"column",justifyContent:"space-between"},root:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},media:{height:150,marginTop:0},title:{fontSize:20}}),O=n(96),k=n(97),N=n(100),T=n(99),B=n(98),I=n(101),F=function(){var e=S(),t=Object(a.useContext)(y),n=t.items,l=t.setShowContent;return n?r.a.createElement("div",{className:e.root},n.map((function(t,n){return r.a.createElement(O.a,{className:e.card,key:n,onClick:function(){return e="/articles/"+t.slug,l(!0),void f(e).then((function(e){return console.log("yes")}));var e}},r.a.createElement(k.a,null,r.a.createElement(B.a,{component:"img",className:e.media,src:C(t,"two-thirds"),title:t.title}),r.a.createElement(T.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"span",className:e.title},t.title),r.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},t.lowSearchText.length>200?t.lowSearchText.slice(0,200)+"...":t.lowSearchText))),r.a.createElement(N.a,null,r.a.createElement(I.a,{size:"small",color:"primary"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))}))):null},P=n(103),D=n(104),_=n(102),z=Object(i.a)((function(e){return Object(s.a)({root:{flexGrow:1,zIndex:33,position:"relative",width:"100%"},menuButton:{marginRight:e.spacing(2)}})})),G=n(40),L=n.n(G),M=n(41),J=n.n(M),V=n(42),W=n.n(V),A=n(43),R=n.n(A),q=n(44),H=n.n(q),K=n(39),Q=n.n(K),U=function(){var e=z(),t=Object(a.useContext)(y),n=t.view,l=t.setView,c=t.setShowContent,o=t.showContent,i=function(t){var n=t.onClick,a=t.children;return r.a.createElement(_.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:n},a)};return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{position:"static"},r.a.createElement(D.a,{variant:"dense"},o&&r.a.createElement(i,{onClick:function(){return c(!1)}},r.a.createElement(Q.a,null)),r.a.createElement(i,null,r.a.createElement(L.a,null)),r.a.createElement(i,null,r.a.createElement(J.a,null)),r.a.createElement(i,null,r.a.createElement(W.a,null)),r.a.createElement(_.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return l(!n)}},n?r.a.createElement(R.a,{style:{transform:"rotate(-180deg)"}}):r.a.createElement(H.a,null)))))},X=function(){return r.a.createElement("div",null,"The Content")},Y=function(e){var t=e.cards,n=e.url,l=Object(a.useState)(),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(a.useState)(t||!1),d=Object(o.a)(m,2),h=d[0],p=d[1],E=Object(a.useState)(!1),g=Object(o.a)(E,2),v=g[0],b=g[1];Object(a.useEffect)((function(){f(n).then((function(e){return s(e.results)}))}),[n]);var w=u();return r.a.createElement(y.Provider,{value:{items:i,view:h,setView:p,setShowContent:b,showContent:v}},r.a.createElement("div",{className:w.root},r.a.createElement(U,null),r.a.createElement("div",{className:w.viewer,id:"_viewer"},v?r.a.createElement(X,null):r.a.createElement(r.a.Fragment,null,h?r.a.createElement(F,null):r.a.createElement(j,null)))))},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),l(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,{cards:!0,url:"/api/v1/articles"})),document.getElementById("root")),Z()}},[[49,1,2]]]);
//# sourceMappingURL=main.76e34ed3.chunk.js.map